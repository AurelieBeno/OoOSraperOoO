{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.ad48d6d41ae8693fe978.hot-update.js","sources":["webpack:///./apis.js","webpack:///./components/Pages.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\n// Create an axios Object with pre-configured setting\r\nconst backendApi = axios.create({\r\n  baseURL: \"http://localhost:2107\",\r\n  // send cookies to the backend on every request\r\n\r\n  withCredentials: true\r\n});\r\n\r\nfunction errorHandler(err) {\r\n  if (err.response && err.response.data) {\r\n    // console.log() error info for debugging\r\n    console.log(\"API Error\", err.response.data);\r\n  } else {\r\n    console.log(\"React Code Error\", err);\r\n  }\r\n\r\n  // Alert a generic messsage for the user\r\n  alert(\"Sorry! Something went wrong. Try again later\");\r\n\r\n  // Cause the error again so the .then() won't be called\r\n\r\n  throw err;\r\n}\r\n\r\nexport function getData() {\r\n  return backendApi.get(\"/api/data\").catch(errorHandler);\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { ScrapeProvider } from \"./ScrapeContext\";\r\nimport { getData } from \"../apis\";\r\n\r\nfunction useScrapes() {\r\n  const [scrapes, setScrapes] = useState({});\r\n\r\n  useEffect(function() {\r\n    (async () => {\r\n      getData()\r\n        .get(process.env.REACT_APP_BACKEND_URL + \"data\")\r\n        .then(response => setScrapes(response))\r\n        .catch(err => console.log(err));\r\n      // console.log(\"Mounting or Updating\");\r\n      // const res = await fetch(\"http://localhost:2107\");\r\n      // const data = await res.json;\r\n      // console.log(\"my response from be\", data);\r\n      // setScrapes(data);\r\n    })();\r\n  }, []);\r\n  return scrapes;\r\n}\r\nexport default function Page({ children }) {\r\n  const scrapes = useScrapes();\r\n\r\n  return (\r\n    <ScrapeProvider\r\n      value={{\r\n        scrapes\r\n      }}\r\n    >\r\n      <div className='page'>{children}</div>\r\n    </ScrapeProvider>\r\n  );\r\n}\r\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AAJA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5BA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AAEA;AACA;AADA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;;A","sourceRoot":""}